package temp;

public class FastMaxStack implements MaxStack<Integer>{

	private final IntegerMaximizer maximizer;
	private LLNode<Integer> top = null;
	private LLNode<Integer> maxStackTop;
	
	public static void main(String[] args){
		/* setting up linked list */
		FastMaxStack f = new FastMaxStack(new IntegerMaximizer());
		f.push(3);
		f.push(3);
		Integer top = f.top.info;
		f.pop();
		Integer top2 = f.top.info;
		System.out.printf("is %d greater than %d? >> %s", top, top2, IntegerMaximizer.isLargerOrEqualTo(top, top2) );
	}

	public FastMaxStack(IntegerMaximizer maximizer) {
		this.maximizer = maximizer;
	}

	@Override
	public boolean isEmpty() {
		return top == null;
	}

	@Override
	public void push(Integer info) {
		LLNode<Integer> newNode = new LLNode<Integer>(info);
		newNode.setLink(top);
		top = newNode;
		
		/* maxStack tracker */
		if(maxStackTop.link == null || IntegerMaximizer.isLargerOrEqualTo(info, maxStackTop.info)){
			newNode.setLink(maxStackTop);
			maxStackTop = newNode;
		} 
		
	}

	@Override
	public void pop() throws StackUnderflowException {
		T topNodeInfo;
		 if (!isEmpty()){
			 topNodeInfo = top.link.info;
			 this.top = top.link;
		 } else {
			 throw new StackUnderflowException("Pop attempted on an empty stack.");
		 }
	}

	@Override
	public T getMaxSoFar() {
		// TODO Auto-generated method stub
		return null;
	}

}
