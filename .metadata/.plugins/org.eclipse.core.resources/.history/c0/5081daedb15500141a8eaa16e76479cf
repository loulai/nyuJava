import java.util.Scanner;

/**
 *Created on : October 16th 2014
 *Description: Merges two arrays that are already sorted, and returns a new array that is sorted.
 *@author Lou Lai
 */
public class SortedMerge {

	public static void main(String[] args) {
		
		System.out.println("---How long is your first array? Note: numbers MUST be in a sorted order.");
		System.out.println("---Enter integer: ");
		Scanner input1 = new Scanner(System.in);
		int aLength = input1.nextInt();
		double[] arrayA = new double[aLength];
		
		for(int i=0; i < aLength; i++ ){
			System.out.println("Insert number " + (i + 1) + ": ");
			Scanner inputA = new Scanner(System.in);
			int num = inputA.nextInt();
			arrayA[i] = num;
		}
		
		if(!isSorted(arrayA)){
			System.out.println("Input is not sorted.");
			System.exit(0);
		}
		
		System.out.println("---How long is your second array? Enter integer: ");
		Scanner input2 = new Scanner(System.in);
		int bLength = input2.nextInt();
		double[] arrayB = new double[bLength];
		
		for(int i=0; i < bLength; i++ ){
			System.out.println("Insert number " + (i + 1) + ": ");
			Scanner inputB = new Scanner(System.in);
			int num = inputB.nextInt();
			arrayB[i] = num;
		}
		
		int combinedLength = aLength + bLength;
		
		double[] finalArray = merge(arrayA, arrayB);
		
		System.out.println("The final merged array is: ");
		for(int i = 0; i < combinedLength; i++){
			if(i != combinedLength - 1){
				System.out.print(finalArray[i] + ", ");
			}else {
				System.out.print(finalArray[i] + " ");
			}
			
		}
		
	}

	private static double[] merge(double[] arrayA, double[] arrayB) {
		int aLength = arrayA.length;
		int bLength = arrayB.length;
		int combinedLength = aLength + bLength;
		double[] mergedArray = new double[combinedLength];
	
		int combined = 0;
		int a = 0;
		int b = 0;

		while(a < arrayA.length && b < arrayB.length){
			if(arrayA[a] < arrayB[b]){
				mergedArray[combined] = arrayA[a];
				combined++; a++; 
			} else {
				mergedArray[combined] = arrayB[b];
				combined++; b++;
			}
		}
		
		while (a < arrayA.length) {
			mergedArray[combined] = arrayA[a];
			combined++; a++;
		}
		
		while (b < arrayB.length) {
			mergedArray[combined] = arrayB[b];
			combined++; b++;
		}
		return mergedArray;
	}
	
	private static boolean isSorted(double[] someArray) {
		boolean isSorted = true;
		for(int i = 0; i < 9; i++){ 
			if(someArray[i] > someArray[i+1]){ 
				isSorted = false;    
			} 
		}
		
			if(isSorted) {
				return isSorted;
			} else {
				isSorted = false;
				return isSorted;
			}
	}
	

} 
